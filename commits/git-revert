#!/bin/bash
if [ -z "$1" ] || [[ "$@" == *"-a"* && -z "$2" ]]; then
  if [[ "$@" == *"-a"* ]]; then
    git add .
    for param; do
      [[ ! $param == '-a' ]] && newparams+=("$param")
    done
    set -- "${newparams[@]}"
    unset newparams
    git commit -am "revert: " -e
  else
    git commit -m "revert: " -e
  fi
elif [ "$1" == "-s" ]; then
  if [[ "$@" == *"-a"* ]]; then
    git add .
    for param; do
      [[ ! $param == '-a' ]] && newparams+=("$param")
    done
    set -- "${newparams[@]}"
    unset newparams
    git commit -am "revert(${2}): ${@:3}"
  else
    git commit -m "revert(${2}): ${@:3}"
  fi
else
  if [[ "$@" == *"-a"* ]]; then
    git add .
    for param; do
      [[ ! $param == '-a' ]] && newparams+=("$param")
    done
    set -- "${newparams[@]}"
    unset newparams
    git commit -am "revert: ${@}"
  else
    git commit -m "revert: ${@}"
  fi
fi
